import{a as s,g as l,b as n}from"./index-BvHYoaWr.js";const i={loadAndApplyTheme:async()=>{try{const o=new AbortController,r=setTimeout(()=>o.abort(),5e3),a=await s.get("/admin/theme/public/",{signal:o.signal});if(clearTimeout(r),a.data&&a.data.success){const t=a.data.theme;if(t&&t.colors&&Object.keys(t.colors).length>0)return console.log("Applying theme from backend:",t.colors),n(t.colors),t}}catch(o){o.name==="AbortError"?console.log("Theme loading timed out, using defaults"):console.log("Failed to load theme from backend, using defaults:",o.message)}console.log("Using default theme colors");const e=l();return n(e),{colors:e,mode:"light"}},getCurrentTheme:async()=>{try{const e=new AbortController,o=setTimeout(()=>e.abort(),3e3),r=await s.get("/admin/theme/public/",{signal:e.signal});if(clearTimeout(o),r.data&&r.data.success)return r.data.theme}catch(e){e.name!=="AbortError"&&console.log("Failed to get current theme from backend:",e.message)}return{colors:l(),mode:"light"}}};export{i as default};
